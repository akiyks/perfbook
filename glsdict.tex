\newabbreviationstyle{pf-long-short}{
  \glsxtrAccSuppAbbrSetFirstLongAttrs\glscategorylabel
  \renewcommand*{\CustomAbbreviationFields}{%
    name={\glsxtrlongshortname},
    sort={\the\glsshorttok},
    first={\protect\glsfirstlongemfont{\the\glslongtok}%
     \protect\glsxtrfullsep{\the\glslabeltok}%
     \glsxtrparen{\protect\glsfirstabbrvfont{\the\glsshorttok}}},%
    firstplural={\protect\glsfirstlongemfont{\the\glslongpltok}%
     \protect\glsxtrfullsep{\the\glslabeltok}%
     \glsxtrparen{\protect\glsfirstabbrvfont{\the\glsshortpltok}}},%
    text={\protect\glsabbrvfont{\the\glsshorttok}},%
    plural={\protect\glsabbrvfont{\the\glsshortpltok}},%
    description={\protect\glslongfont{\the\glslongtok}},
    user1={\protect\index{\the\glslongtok\space(\the\glsshorttok)%
      @\makefirstuc{\the\glslongtok}\space(\the\glsshorttok)}}%
  }%
  \renewcommand*{\GlsXtrPostNewAbbreviation}{%
    \glshasattribute{\the\glslabeltok}{regular}%
    {%
      \glssetattribute{\the\glslabeltok}{regular}{false}%
    }%
    {}%
  }%
}%
{%
%  \renewcommand*{\abbrvpluralsuffix}{\glsxtrabbvpluralsuffix}%
%  \renewcommand*{\glsabbrvfont}[1]{\glsabbrvemfont{##1}}%
%  \renewcommand*{\glsfirstabbrvfont}[1]{\glsfirstabbrvemfont{##1}}%
  \renewcommand*{\glsfirstlongfont}[1]{\glsfirstlongemfont{##1}}%
%  \renewcommand*{\glslongfont}[1]{\glslongemfont{##1}}%
  \renewcommand*{\glsxtrfullformat}[2]{%
    \glsfirstlongfont{\glsaccesslong{##1}\ifglsxtrinsertinside##2\fi}%
    \ifglsxtrinsertinside\else##2\fi
    \glsxtrfullsep{##1}%
    \glsxtrparen{\glsfirstabbrvfont{\glsaccessshort{##1}}}%
  }%
  \renewcommand*{\glsxtrfullplformat}[2]{%
    \glsfirstlongfont{\glsaccesslongpl{##1}\ifglsxtrinsertinside##2\fi}%
    \ifglsxtrinsertinside\else##2\fi\glsxtrfullsep{##1}%
    \glsxtrparen{\glsfirstabbrvfont{\glsaccessshortpl{##1}}}%
  }%
  \renewcommand*{\Glsxtrfullformat}[2]{%
    \glsfirstlongfont{\Glsaccesslong{##1}\ifglsxtrinsertinside##2\fi}%
    \ifglsxtrinsertinside\else##2\fi\glsxtrfullsep{##1}%
    \glsxtrparen{\glsfirstabbrvfont{\glsaccessshort{##1}}}%
  }%
  \renewcommand*{\Glsxtrfullplformat}[2]{%
    \glsfirstlongfont{\Glsaccesslongpl{##1}\ifglsxtrinsertinside##2\fi}%
    \ifglsxtrinsertinside\else##2\fi\glsxtrfullsep{##1}%
    \glsxtrparen{\glsfirstabbrvfont{\glsaccessshortpl{##1}}}%
  }%
  \renewcommand{\glsxtrprelocation}{,\space}%
}

\setabbreviationstyle[acronym]{pf-long-short}

\newacronym{cas}{CAS}{compare-and-swap}
\newacronym{cbmc}{CBMC}{C~bounded model checker}
\newacronym{dcas}{DCAS}{double-compare-and-swap}
\newacronym{dsp}{DSP}{digital signal processor}
\newacronym{ebr}{EBR}{epoch-based reclamation}
\newacronym{fpga}{FPGA}{field\-/programmable gate array}
\newacronym{gpgpu}{GPGPU}{general\-/purpose graphical processing unit}
\newacronym{irq}{IRQ}{interrupt request}
\glsunset{irq} % presented as IRQ from the beginning
\newacronym{ipi}{IPI}{inter\-/processor interrupt}
\newacronym{mpi}{MPI}{Message Passing Interface}
\glsunset{mpi} % presented as MPI from the beginning
\newacronym{nbs}{NBS}{non-blocking synchronization}
\newacronym{nmi}{NMI}{non-maskable interrupt}
\glsunset{nmi} % presented as NMI from the beginning, with few excptions
\newacronym{nuca}{NUCA}{non-uniform cache architecture}
\newacronym{numa}{NUMA}{non-uniform memory architecture}
\newacronym{qsbr}{QSBR}{quiescent state based reclamation}
\newacronym{rcu}{RCU}{read-copy update}
\newacronym{sql}{SQL}{Structured Query Language}
\newacronym{tle}{TLE}{transactional lock elision}
\newacronym{tm}{TM}{transactional memory}
\newacronym{htm}{HTM}{hardware transactional memory}
\newacronym{stm}{STM}{software transactional memory}
\newacronym{upc}{UPC}{Universal Parallel~C}
\newacronym{utm}{UTM}{unbounded transactional memory}

% For hierarchical indexes using acronym dictinary entries
% Need to define a specific macro for each of such dict entry

\IfIndexHier{
  \newcommand{\IXhacrrcu}[2]{\index{read-copy update (RCU)@\makefirstuc {read-copy update} (RCU)!\lowercase{#1}}\hlindex{#1 \acr{rcu}}}
  \newcommand{\IXhAcrrcu}[2]{\index{read-copy update (RCU)@\makefirstuc {read-copy update} (RCU)!\lowercase{#1}}\hlindex{\makefirstuc{#1} \acr{rcu}}}
}{
  \newcommand{\IXhacrrcu}[2]{\index{#2}\hlindex{#1 \acr{rcu}}}
  \newcommand{\IXhAcrrcu}[2]{\index{#2}\hlindex{\makefirstuc{#1} \acr{rcu}}}
}
